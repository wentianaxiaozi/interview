<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>reduce的高阶用法</title>
</head>
<body>
    <script>
        // <!-- 简单用法 -->
        // abcabcbb
        // let arr = ['a','b','c','a','b','c','b','b']
        // let map = {}
        // let left = 0
        // let sum = arr.reduce((max, cur, index)=> {
        //     left = map[cur] >= left ? map[cur]+1:left
        //     map[cur] = index
        //     return Math.max(max, index-left+1)
        // }, 0) //数组求和
        // // let sum1 = arr.reduce((x,y)=>x*y) //数组求积

        // console.log(sum)
        // console.log(sum1)

        //计算数组中每个元素出现的次数

        // let arr = [1,2,3,4,4,1]
        // let result = arr.reduce((pre,cur)=>{
        //     if(cur in pre) {
        //         pre[cur]++
        //     }else {
        //         pre[cur] = 1
        //     }
        //     return pre
        // }, {})

        // console.log(result)

        // 去除数组中的重复元素  includs不能去除数组对象的重复元素
        // let arr = [1,2,3,4,4,1]
        // let _arr = arr.reduce((pre, cur)=>{
        //     if(pre.includes(cur)) {
        //         return pre
        //     }else {
        //         pre.push(cur)
        //     }
        //     return pre
        // }, [])
        // console.log(_arr)


        //将二维数组转化为一维数组
        // let arr = [[0, 1], [2, 3], [4, 5]]
        // let _arr = arr.reduce((pre,cur)=>{
        //     return pre.concat(cur)
        // }, [])
        // console.log(_arr)

        // 将多维数组转化成一维数组  使用递归

        // let arr = [[0, 1], [2, 3], [4,[5,6,7]]]
        // let newArr = function(arr) {
        //     return arr.reduce((pre,cur)=>{
        //         return pre.concat(Array.isArray(cur) ? newArr(cur):cur)
        //     },[])

        // }
        // console.log(newArr(arr))

        // 数组对象的属性求和
        // let result = [
        //     {
        //         subject: 'math',
        //         score: 10
        //     },
        //     {
        //         subject: 'chinese',
        //         score: 20
        //     },
        //     {
        //         subject: 'english',
        //         score: 30
        //     }
        // ];

        // let sum = result.reduce((pre, cur)=>{
        //     return pre+cur.score
        // }, 0)

        // console.log(sum)


        // []
      //   let str = 'abcabcbb'
      //   let _str = str.split('')
      //   // console.log(_str)
      //   const map = {}
      //   let left = 0

      // let result = _str.reduce((max,cur,index)=>{
      //       console.log(max+'----'+cur+'-----'+index)
      //       left = map[cur] >= left ? map[cur]+1:left
      //       map[cur] = index
      //       // console.log(max+'----'+cur+'-----'+index)

      //       return Math.max(max, index-left+1)
      //   }, 0)

      // console.log(result)

var convert = function(s, numRows) {
    if (numRows === 0) return '';
    if (numRows === 1) return s;
    var res = [];
    var desc = false;
    var index = 0;
    for (var i = 0, len = s.length; i < len; i++) {
        res[index] = res[index] ? res[index] + s[i] : s[i];
        if (index % (numRows - 1) === 0) desc = !desc;
        index = desc ? index + 1 : index - 1;
    }
    return res.join('');
}

console.log(convert('LEETCODEISHIRING',4))
// LCIRETOESIIGEDHN   3
// LDREOEIIECIHNTSG   4

    </script>
</body>
</html>